<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>人生模擬器</title>
  <style>
    body {
      font-family: "Comic Sans MS", sans-serif;
      background-color: #d9e4ef;
      color: #04000f;
      max-width: 600px;
      margin: auto;
      padding: 2rem;
    }
    h1 {
      color: #2c2092;
      text-align: center;
    }
    #story {
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }
    .option-btn {
      display: block;
      width: 100%;
      margin: 0.5rem 0;
      padding: 0.8rem;
      background-color: #ccf6f6;
      border: none;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 8px;
    }
    .option-btn:hover {
      background-color: #fab005;
    }
    #stats {
      margin-top: 1rem;
      font-size: 1rem;
    }
    #ending {
      margin-top: 2rem;
      font-weight: bold;
      font-size: 1.3rem;
      color: #c82d56;
      text-align: center;
    }
    .result-img {
      max-width: 100%;
      height: auto;
      border-radius: 12px;
      display: block;
      margin: 1rem auto;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <h1>你的一生</h1>
  <div id="story"></div>
  <div id="options"></div>
  <div id="stats"></div>
  <div id="ending"></div>

  <script>
    const storyData = [
      {
        text: "你是個國小生。今天放學後你決定...",
        options: [
          { text: "狂打電動12小時", effect: { knowledge: 0, happy: 3, money: -1 } },
          { text: "回家寫作業配抄答案", effect: { knowledge: 2, happy: 0, money: 1 } },
          { text: "做家事跟媽媽要零用錢", effect: { knowledge: 1, happy: 1, money: 3 } }
        ]
      },
      {
        text: "你參加了校外才藝班，決定學習...",
        options: [
          { text: "鋼琴", effect: { knowledge: 2, happy: 1, money: -1 } },
          { text: "籃球", effect: { knowledge: 1, happy: 2, money: -1 } },
          { text: "沒興趣，不去", effect: { knowledge: 0, happy: 0, money: 2 } }
        ]
      },
      {
        text: "國高中時，你的志向是...",
        options: [
          { text: "想當偶像", effect: { knowledge: 0, happy: 3, money: 0 } },
          { text: "拚命補習考大學", effect: { knowledge: 3, happy: -1, money: -1 } },
          { text: "打工存錢買機車", effect: { knowledge: 1, happy: 1, money: 3 } }
        ]
      }
    ];

    let currentStep = 0;
    let stats = { knowledge: 0, happy: 0, money: 0 };

    function updateUI() {
      const story = storyData[currentStep];
      document.getElementById("story").textContent = story.text;

      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";
      story.options.forEach((option) => {
        const btn = document.createElement("button");
        btn.textContent = option.text;
        btn.className = "option-btn";
        btn.onclick = () => chooseOption(option.effect);
        optionsDiv.appendChild(btn);
      });

      updateStats();
    }

    function updateStats() {
      const { knowledge, happy, money } = stats;
      document.getElementById("stats").textContent =
        `知識：${knowledge} / 快樂：${happy} / 財富：${money}`;
    }

    function chooseOption(effect) {
      stats.knowledge += effect.knowledge;
      stats.happy += effect.happy;
      stats.money += effect.money;
      currentStep++;

      if (currentStep >= storyData.length) {
        showEnding();
      } else {
        updateUI();
      }
    }

    function showEnding() {
      const { knowledge, happy, money } = stats;
      const total = knowledge + happy + money;

      let ending = "";
      let imageUrl = "";

      if (knowledge > happy && knowledge > money) {
        ending = "你成為智慧的象徵，全國搶著聽你演講，最後出版《人生講義》。";
        imageUrl = "https://pic.616pic.com/ys_img/00/77/57/UAYno6Zwej.jpg";
      } else if (happy > knowledge && happy > money) {
        ending = "你過得開心自在，從不後悔選擇，永遠微笑面對人生。";
        imageUrl = "https://storage.googleapis.com/opinion-cms-cwg-tw/article/202212/article-63aa9ff74e277.jpg";
      } else if (money > knowledge && money > happy) {
        ending = "你賺進人生頭等艙，成為傳說中的雞排億萬富翁。";
        imageUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS5s3X3dj8O7795XRrxWoJiXQfeW9cVkBcDHA&s";
      } else {
        ending = "你的人生多元豐富、平衡中帶點驚喜，是別人眼中羨慕的存在。";
        imageUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIkRyed2r3FLGXHmfG4GR1mRb76dSsh-W7Lw&s";
      }

      document.getElementById("story").textContent = "🎉 你的人生模擬結束！";
      document.getElementById("options").innerHTML = "";
      document.getElementById("ending").innerHTML = `
        <p>${ending}</p>
        <img src="${imageUrl}" alt="結局圖片" class="result-img" />
      `;
      updateStats();
    }

    updateUI();
  </script>
</body>
</html>