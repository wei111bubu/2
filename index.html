<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>äººç”Ÿæ¨¡æ“¬å™¨</title>
  <style>
    body {
      font-family: "Comic Sans MS", sans-serif;
      background-color: #d9e4ef;
      color: #04000f;
      max-width: 600px;
      margin: auto;
      padding: 2rem;
    }
    h1 {
      color: #2c2092;
      text-align: center;
    }
    #story {
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }
    .option-btn {
      display: block;
      width: 100%;
      margin: 0.5rem 0;
      padding: 0.8rem;
      background-color: #ccf6f6;
      border: none;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 8px;
    }
    .option-btn:hover {
      background-color: #fab005;
    }
    #stats {
      margin-top: 1rem;
      font-size: 1rem;
    }
    #ending {
      margin-top: 2rem;
      font-weight: bold;
      font-size: 1.3rem;
      color: #c82d56;
      text-align: center;
    }
    .result-img {
      max-width: 100%;
      height: auto;
      border-radius: 12px;
      display: block;
      margin: 1rem auto;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <h1>ä½ çš„ä¸€ç”Ÿ</h1>
  <div id="story"></div>
  <div id="options"></div>
  <div id="stats"></div>
  <div id="ending"></div>

  <script>
    const storyData = [
      {
        text: "ä½ æ˜¯å€‹åœ‹å°ç”Ÿã€‚ä»Šå¤©æ”¾å­¸å¾Œä½ æ±ºå®š...",
        options: [
          { text: "ç‹‚æ‰“é›»å‹•12å°æ™‚", effect: { knowledge: 0, happy: 3, money: -1 } },
          { text: "å›å®¶å¯«ä½œæ¥­é…æŠ„ç­”æ¡ˆ", effect: { knowledge: 2, happy: 0, money: 1 } },
          { text: "åšå®¶äº‹è·Ÿåª½åª½è¦é›¶ç”¨éŒ¢", effect: { knowledge: 1, happy: 1, money: 3 } }
        ]
      },
      {
        text: "ä½ åƒåŠ äº†æ ¡å¤–æ‰è—ç­ï¼Œæ±ºå®šå­¸ç¿’...",
        options: [
          { text: "é‹¼ç´", effect: { knowledge: 2, happy: 1, money: -1 } },
          { text: "ç±ƒçƒ", effect: { knowledge: 1, happy: 2, money: -1 } },
          { text: "æ²’èˆˆè¶£ï¼Œä¸å»", effect: { knowledge: 0, happy: 0, money: 2 } }
        ]
      },
      {
        text: "åœ‹é«˜ä¸­æ™‚ï¼Œä½ çš„å¿—å‘æ˜¯...",
        options: [
          { text: "æƒ³ç•¶å¶åƒ", effect: { knowledge: 0, happy: 3, money: 0 } },
          { text: "æ‹šå‘½è£œç¿’è€ƒå¤§å­¸", effect: { knowledge: 3, happy: -1, money: -1 } },
          { text: "æ‰“å·¥å­˜éŒ¢è²·æ©Ÿè»Š", effect: { knowledge: 1, happy: 1, money: 3 } }
        ]
      }
    ];

    let currentStep = 0;
    let stats = { knowledge: 0, happy: 0, money: 0 };

    function updateUI() {
      const story = storyData[currentStep];
      document.getElementById("story").textContent = story.text;

      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";
      story.options.forEach((option) => {
        const btn = document.createElement("button");
        btn.textContent = option.text;
        btn.className = "option-btn";
        btn.onclick = () => chooseOption(option.effect);
        optionsDiv.appendChild(btn);
      });

      updateStats();
    }

    function updateStats() {
      const { knowledge, happy, money } = stats;
      document.getElementById("stats").textContent =
        `çŸ¥è­˜ï¼š${knowledge} / å¿«æ¨‚ï¼š${happy} / è²¡å¯Œï¼š${money}`;
    }

    function chooseOption(effect) {
      stats.knowledge += effect.knowledge;
      stats.happy += effect.happy;
      stats.money += effect.money;
      currentStep++;

      if (currentStep >= storyData.length) {
        showEnding();
      } else {
        updateUI();
      }
    }

    function showEnding() {
      const { knowledge, happy, money } = stats;
      const total = knowledge + happy + money;

      let ending = "";
      let imageUrl = "";

      if (knowledge > happy && knowledge > money) {
        ending = "ä½ æˆç‚ºæ™ºæ…§çš„è±¡å¾µï¼Œå…¨åœ‹æ¶è‘—è½ä½ æ¼”è¬›ï¼Œæœ€å¾Œå‡ºç‰ˆã€Šäººç”Ÿè¬›ç¾©ã€‹ã€‚";
        imageUrl = "https://pic.616pic.com/ys_img/00/77/57/UAYno6Zwej.jpg";
      } else if (happy > knowledge && happy > money) {
        ending = "ä½ éå¾—é–‹å¿ƒè‡ªåœ¨ï¼Œå¾ä¸å¾Œæ‚”é¸æ“‡ï¼Œæ°¸é å¾®ç¬‘é¢å°äººç”Ÿã€‚";
        imageUrl = "https://storage.googleapis.com/opinion-cms-cwg-tw/article/202212/article-63aa9ff74e277.jpg";
      } else if (money > knowledge && money > happy) {
        ending = "ä½ è³ºé€²äººç”Ÿé ­ç­‰è‰™ï¼Œæˆç‚ºå‚³èªªä¸­çš„é›æ’å„„è¬å¯Œç¿ã€‚";
        imageUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS5s3X3dj8O7795XRrxWoJiXQfeW9cVkBcDHA&s";
      } else {
        ending = "ä½ çš„äººç”Ÿå¤šå…ƒè±å¯Œã€å¹³è¡¡ä¸­å¸¶é»é©šå–œï¼Œæ˜¯åˆ¥äººçœ¼ä¸­ç¾¨æ…•çš„å­˜åœ¨ã€‚";
        imageUrl = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQIkRyed2r3FLGXHmfG4GR1mRb76dSsh-W7Lw&s";
      }

      document.getElementById("story").textContent = "ğŸ‰ ä½ çš„äººç”Ÿæ¨¡æ“¬çµæŸï¼";
      document.getElementById("options").innerHTML = "";
      document.getElementById("ending").innerHTML = `
        <p>${ending}</p>
        <img src="${imageUrl}" alt="çµå±€åœ–ç‰‡" class="result-img" />
      `;
      updateStats();
    }

    updateUI();
  </script>
</body>
</html>